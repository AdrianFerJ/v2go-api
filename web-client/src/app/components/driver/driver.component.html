<div *ngIf="driver$ | async as driver; else loading">
  <div class="alert alert-success alert-dismissible fade show" role="alert">
    Welcome {{ driver.user.first_name }}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <div class="container-bg">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm">
          My Profile
        </div>
        <div class="col-sm">
          My Cars <span class="badge badge-pill badge-primary">{{ driver.evs.length }}</span>
          <a class="badge badge-success" [routerLink]="['/add-vehicle']">Add Vehicle</a>
        </div>
        <div class="col-sm">
          My Reservations <span class="badge badge-pill badge-primary">{{ driver.reservations.length }}</span>
        </div>
      </div>
    </div>
  </div>


  <div class="container-fluid">
    <div class="row">
      <div class="col-sm">
        <form>
          <div class="form-group">
            <label for="firstName">First Name</label>
            <input type="text" class="form-control" id="firstName" placeholder="{{ driver.user.first_name }}" readonly>
          </div>

          <div class="form-group">
            <label for="lastName">Last Name</label>
            <input type="text" class="form-control" id="lastName" placeholder="{{ driver.user.last_name }}" readonly>
          </div>

          <div class="form-group">
            <label for="username">Username</label>
            <input type="text" class="form-control" id="username" placeholder="{{ driver.user.username }}" readonly>
          </div>
        </form>
      </div>
      <div class="col-sm">
        <div *ngFor="let ev of driver.evs" class="card" style="width: 18rem;">
          <img src="https://www.autoloans.ca/wp-content/uploads/2017/11/car.png" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">{{ ev.model }} {{ ev.manufacturer }}</h5>
            <li>Year: {{ ev.year }}</li>
            <li>Charger Type: {{ ev.charger_type }}</li>
          </div>
        </div>
      </div>
      <div class="col-sm">
        <div *ngFor="let reservation of driver.reservations" class="card" style="width: 18rem;">
          <img
            src="data:image/png;base64,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"
            class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title" ng-if="reservation.event_cs.cs!=''; else elseBlock">{{ reservation.event_cs.cs }}
              {{ reservation.event_cs.status }}</h5>
            <ng-template #elseBlock>{{ reservation.event_cs.status }}</ng-template>
            <li>Start Time: {{ reservation.event_cs.startDateTime }}</li>
            <li>End Time: {{ reservation.event_cs.endDateTime }}</li>
            <li>Car: {{ reservation.ev }}</li>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #loading>
  Loading stuff...
</ng-template>
